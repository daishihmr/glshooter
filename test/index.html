<!doctype html>
<html>
<head>
<meta charset=UTF-8>
</head>
<body>
<script type="text/javascript">
window.onload = function() {
    var array = [];
    for (var i = 0; i < 50000; i++) {
        array.push({num:i});
    }

    var rem = [];
    for (var i = 0, end = array.length * 0.3; i < end; i++) {
        rem[i] = array[~~(Math.random() * array.length)];
    }

    var start = Date.now();
    for (var i = rem.length; i--; ) {
        var index = array.indexOf(rem[i]);
        if (index !== -1) array.splice(index, 1);
    }
    // for (var i = rem.length; i--; ) {
    //     var index = array.indexOf(rem[i]);
    //     if (index !== -1) delete array[index];
    // }
    // array = array.filter(function(v) { return v });
    console.log(Date.now() - start);
};
</script>
</body>
</html>
